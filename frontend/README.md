# Rust Market Dashboard

High-frequency market data dashboard built in Rust with [Leptos](https://leptos.dev/).  
It consumes ticks from a websocket feed, tracks the latest quote per symbol, and renders a real-time table and price history chart in the browser.

## Project Structure

- `schemas/` — JSON schema and sample payload describing the websocket tick format.
- `frontend/` — Leptos client-side app compiled to WebAssembly.
  - `src/ticks/` — Tick domain types, in-memory store, and websocket plumbing.
  - `src/components/` — Dashboard layout, live table, and history panel.

## Getting Started

### Prerequisites

- Rust toolchain (`rustup` + stable compiler).
- WebAssembly target: `rustup target add wasm32-unknown-unknown`
- Trunk bundler: `cargo install trunk`

### Run the Frontend

```sh
cd frontend
trunk serve --open
```

Trunk will compile the WASM bundle and start a dev server on `http://127.0.0.1:8080`.  
If `--open` fails (e.g., in headless environments), open the URL manually.

## Current MVP

- Fine-grained state management with Leptos signals for per-symbol last price and bounded history buffers.
- Live quotes table seeded with sample data (real websocket ingestion wired via `spawn_tick_stream`).
- Price history panel placeholder showing buffered sample counts (graph renderer forthcoming).

## Roadmap

1. Connect to the real websocket feed and batch tick ingestion to animation frames.
2. Render a streaming price history chart (Canvas/SVG) with decimation for high-frequency ticks.
3. Add performance telemetry: dropped tick counter, frame time diagnostics, profiling hooks.

## Development Notes

- Keep DOM updates within ~60 fps by batching tick store mutations and using Leptos signals.
- Prefer incremental updates over cloning large collections to limit GC pressure in the browser.
- When adding dependencies, ensure they support `wasm32-unknown-unknown` targets.  
- `frontend/dist` is generated by Trunk and ignored by git.
